- Decision: NotABug
- Reason: The flagged lines write to gpu_metrics->current_vclk0[i] and current_dclk0[i] inside two guards: (i < MAX_CLKS) and (inst = GET_INST(VCN, i)) with (inst >= 0). The vclk/dclk arrays are sized by the number of VCN instances (typically 4). GET_INST(VCN, i) returns -1 for indices beyond the actual number of VCN instances, so the assignments are executed only for i in [0, num_vcn-1], where num_vcn ≤ 4. Thus, although the outer loop iterates up to MAX_GFX_CLKS and the inner guard allows up to MAX_CLKS (8), the inst >= 0 check effectively limits writes to indices 0..3, keeping accesses in-bounds for current_vclk0/current_dclk0. This is not the target pattern of using one array’s size to index a smaller “parallel” array without proper guarding; the code includes an additional, effective guard via the instance mapping. No real out-of-bounds condition is feasible here, so the report is a false positive.
